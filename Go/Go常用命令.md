# Go常用命令

**go help**
-----
查看帮助命令

**go build**
----

我们非常常用的命令，它可以启动编译，把我们的包和相关的依赖编译成一个可执行的文件。省略参数的情况下，使用当前目录编译的意思。

环境变量中，GOOS指的是目标操作系统，GOARCH指的是目标处理器的架构

**go clean**
----
它可以清理我们编译生成的文件，比如生成的可执行文件，生成obj对象等等。从而避免把编译后的文件一并提交到代码库

**go run**
----
`go build`是先编译，然后我们在执行可以执行文件来运行我们的程序，需要两步。`go run`这个命令就是可以把这两步合成一步的命令，节省了我们录入的时间，通过`go run`命令，我们可以直接看到输出的结果。

`go run`命令需要一个go文件作为参数，这个go文件必须包含main包和main函数，这样才可以运行，其他的参数和`go build`差不多。

**go env**
----
使用`go env`查看我们的go环境信息，便于我们进行调试，排错等。

**go install**
----
从其名字上我们不难猜出这个命令是做什么的，它和`go build`类似，不过它可以在编译后，把生成的可执行文件或者库安装到对应的目录下，以供使用。

它的用法和`go build`差不多，如果不指定一个包名，就使用当前目录。安装的目录都是约定好的，如果生成的是可执行文件，那么安装在`$GOPATH/bin`目录下；如果是可引用的库，那么安装在`$GOPATH/pkg`目录下。

**go get**
----
`go get`命令，可以从网上下载更新指定的包以及依赖的包，并对它们进行编译和安装。

如果我们需要更新网络上的一个go工程，加-u 标记即可。

**go fmt**
----
它可以格式化我们的源代码的布局和Go源代码一样的风格，也就是统一代码风格。

`go fmt` 为我们统一了代码风格，这样我们在整个团队协作中发现，所有代码都是统一的，像一个人写的一样。所以我们的代码在提交到git库之前，一定要使用`go fmt`进行格式化，现在也有很多编辑器也可以在保存的时候，自动帮我们格式化代码。

**go vet**
----
这个命令不会帮助开发人员写代码，但是它也很有用，因为它会帮助我们检查我们代码中常见的错误。

	1.	Printf这类的函数调用时，类型匹配了错误的参数。
	2.	定义常用的方法时，方法签名错误。
	3.	错误的结构标签。
	4.	没有指定字段名的结构字面量。

**go test**
----
该命令用于Go的单元测试，它也是接受一个包名作为参数，如果没有指定，使用当前目录。 `go test`运行的单元测试必须符合go的测试要求。
	1.	写有单元测试的文件名，必须以`_test.go`结尾。
	2.	测试文件要包含若干个测试函数。
	3.	这些测试函数要以Test为前缀，还要接收一个`*testing.T`类型的参数。

```
package main

import "testing"

func TestAdd(t *testing.T) {
	if Add(1,2) == 3 {
		t.Log("1+2=3")
	}

	if Add(1,1) == 3 {
		t.Error("1+1=3")
	}
}
```








## 参考资料
[Go语言实战笔记](http://www.flysnow.org/2017/03/08/go-in-action-go-tools.html)

