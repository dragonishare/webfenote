# JavaScript 正则表达式 

## 基础知识
**在线正则测试网站[https://regex101.com/](https://regex101.com/) 或者使用浏览器控制台。**

**正则表达式**（英语：Regular Expression，在代码中常简写为regex、regexp或RE）使用单个字符串来描述、匹配一系列符合某个句法规则的字符串搜索模式。
**搜索模式可用于文本搜索和文本替换。**

### 语法
```
/正则表达式主体/修饰符(可选)
```
### 字符串方法
在 JavaScript 中，正则表达式通常用于两个字符串方法 : **search()** 和 **replace()**。
search() 方法 **用于检索**字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串，并**返回子串的起始位置**。
replace() 方法 用于在字符串中用一些字符**替换**另一些字符，或替换一个与正则表达式匹配的子串。

### 正则表达式修饰符
**修饰符** 可以在全局搜索中不区分大小写:

* i ：执行对大小写不敏感的匹配。
* g ：执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）。
* m ：执行多行匹配。
### 正则表达式模式

方括号用于查找某个范围内的字符：

* [abc] ：查找方括号之间的任何字符。
* [0-9] ：查找任何从 0 至 9 的数字。
* (x|y) ：查找任何以 | 分隔的选项。

元字符是拥有特殊含义的字符：

* \d ：查找数字。
* \s ：查找空白字符。
* \b ：匹配单词边界。
* \uxxxx ：查找以十六进制数 xxxx 规定的 Unicode 字符。

量词:

* n+ ：匹配任何包含至少一个 n 的字符串。
* n* ：匹配任何包含零个或多个 n 的字符串。
* n? ：匹配任何包含零个或一个 n 的字符串。

### RegExp 对象
在 JavaScript 中，RegExp 对象是一个预定义了属性和方法的正则表达式对象。

* **test()** 方法是一个正则表达式方法。
test() 方法用于检测一个字符串是否匹配某个模式，如果字符串中含有匹配的文本，则返回 true，否则返回 false。

* **exec()** 方法是一个正则表达式方法。
exec() 方法用于检索字符串中的正则表达式的匹配。
该函数**返回一个数组**，其中存放匹配的结果。如果未找到匹配，则返回值为 null。

[JavaScript RegExp 对象](http://www.runoob.com/jsref/jsref-obj-regexp.html)
## 正则实战

**最简单的正则（匹配指定的文本）**
下面是一段美文，我们现在想把里面的某个字，比如（的），匹配出来。
```
var s = '前世茫茫人海的擦肩，种了今生的遇见，在花海的某一朵间，是你最美的笑颜。繁花三千，只为一人留恋，几度春秋，只等你花开的一面。多少来来回回，梦里若隐若现，举着思念的酒盏，轻酌夜色微凉，让回忆的美好舞翩翩。搁浅了时光，静默缘分的一端，远处的风景，依然是你微笑的眉眼。'
s.match(/的/g)
```
s表示字符串，g表示全局匹配，如果去掉g，只能匹配出来第一个（的）。
上面的例子中，使用到了match()，可以匹配出来字符，并且返回值是一个数组。
还有一个常用的方法是test()，test的返回值是bool类型，通常用来写在if语句中判断一个字符串是否满足正则表达式，在表单验证中经常用到。
test()和match()写法刚好反过来，test是正则写在前面，字符串写到函数的参数中。

**test()**

**场景1：账号只能是数字**

\d和[0-9]都表示数字，加号(+)表示至少匹配一次数字，比如123，如果使用d，就只能一个个匹配出来[1,2,3]，这需要在match方法中使用，在test方法中，必须匹配整个字符串是否符合正则。改成d+之后，匹配的是整个字符串中的数字，要验证整个字符串只能是数字，必须加上正则的开始符号^和结束符号$，表示的是从字符串'123'开头匹配到结尾都必须满足数字，如果中间插入其他字符'1kk2什么3'，就匹配失败。这里的g可加可不加。
两种写法：

* `/^\d+$/g.test('1212')`
* `/^[0-9]+$/g.test('113231')`

**场景2：账号只能是字母**

字母包含大小写，所以使用[a-zA-Z]。
`/^[a-zA-Z]+$/g.test('user')`

**场景3：账号只能是字母开头，并且字母和数字的组合，长度范围是6-10**


**场景4：密码只能是6位数字**
`/^\d{6}$/`


